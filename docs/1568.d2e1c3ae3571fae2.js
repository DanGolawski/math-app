"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1568],{1568:(N,d,n)=>{n.r(d),n.d(d,{ExercisesModule:()=>I});var p=n(6895),l=n(1407),x=n(7898),f=n(727),e=n(8256),h=n(8781),C=n(529);let m=(()=>{class o{constructor(t){this.http=t}setCurrentSubchapter(t){this.subchapterState=t}getCurrentSubchapter(){return this.subchapterState}getBooks(){return this.http.get(h.H.books)}getChaptersForBook(t){return this.http.get(h.H.chapters(t))}getExercise(t,s){return this.http.get(h.H.exercises(t,s))}requestExerciseSolution(t,s){this.http.post(h.H.requestExercise,{subchapter:t,exercise:s}).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(C.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var r=n(3859),v=n(9200);function b(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"app-button",2),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showBookChapters(a.id))}),e.qZA()}2&o&&e.Q6J("title",i.$implicit.title)}let E=(()=>{class o{constructor(t,s,c){this.exercisesService=t,this.router=s,this.route=c,this.subscriptions=new f.w0}ngOnInit(){this.getBooks()}getBooks(){const t=this.exercisesService.getBooks().subscribe(s=>this.books=s);this.subscriptions.add(t)}showBookChapters(t){this.router.navigate([`${t}`],{relativeTo:this.route})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m),e.Y36(l.F0),e.Y36(l.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-books-list"]],decls:3,vars:1,consts:[[1,"menu-container"],[3,"title","click",4,"ngFor","ngForOf"],[3,"title","click"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,b,1,1,"app-button",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.books))},dependencies:[p.sg,r.W2,v.r]}),o})();function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.showExercises(a))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(1),e.AsE("",t.number,". ",t.title,"")}}function w(o,i){if(1&o&&(e.TgZ(0,"ion-accordion",2)(1,"ion-item",3)(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,y,2,2,"p",5),e.qZA()()),2&o){const t=i.$implicit;e.Q6J("value",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Q6J("ngForOf",t.subchapters)}}let _=(()=>{class o{constructor(t,s,c){this.exercisesService=t,this.route=s,this.router=c}ngOnInit(){this.route.paramMap.subscribe(t=>this.getChapters(t.get("bookId")))}getChapters(t){this.exercisesService.getChaptersForBook(t).subscribe(s=>this.chapters=s)}showExercises(t){this.exercisesService.setCurrentSubchapter(t),this.router.navigate([`../showexercises/${t.id}`],{relativeTo:this.route})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m),e.Y36(l.gz),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-chapters-list"]],decls:3,vars:1,consts:[["expand","inset"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","header","color","light"],["slot","content",1,"ion-padding"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content")(1,"ion-accordion-group",0),e.YNc(2,w,6,3,"ion-accordion",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.chapters))},dependencies:[p.sg,r.We,r.eh,r.W2,r.Ie,r.Q$]}),o})();var g=n(655),k=n(1481);function F(o,i){if(1&o&&e._UZ(0,"img",4),2&o){const t=e.oxw();e.MGl("src","data:image/png;base64,",null==t.exercise?null:t.exercise.image,"",e.LSH)}}function T(o,i){1&o&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2,"Film z wyja\u015bnieniem:"),e.qZA(),e._UZ(3,"iframe",5),e.BQk())}let O=(()=>{class o{constructor(t,s,c,a){this.exercisesService=t,this.modalCtrl=s,this.alertController=c,this.sanitizer=a}ngOnInit(){this.exercisesService.getExercise(this.subchapterId,this.exerciseNumber).subscribe({next:t=>{t?(this.exercise=t,this.videoUrl=null!=t&&t.video?this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${t.video}`):null,console.log(this.videoUrl)):this.showNotificationWhenExerciseNotFound()},error:t=>{console.log(t)}})}showNotificationWhenExerciseNotFound(){return(0,g.mG)(this,void 0,void 0,function*(){this.exercisesService.requestExerciseSolution(this.subchapterId,this.exerciseNumber);const t=yield this.alertController.create({header:"Tego zadania jeszcze nie ma",subHeader:"W\u0142a\u015bnie dostali\u015bmy powiadomienie, \u017ce potrzebujesz tego zadania",message:"Wr\xf3\u0107 nied\u0142ugo. B\u0119dzie gotowe!",buttons:["OK"]});t.onDidDismiss().then(()=>this.close()),yield t.present()})}close(){this.modalCtrl.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m),e.Y36(r.IN),e.Y36(r.Br),e.Y36(k.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-exercise-details"]],decls:5,vars:2,consts:[[1,"modal-container"],[1,"close-button",3,"click"],[3,"src",4,"ngIf"],[4,"ngIf"],[3,"src"],["src","https://www.youtube.com/embed/EIxsPBbZ_b8","title","MathMasters Player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share","allowfullscreen","",1,"solution-video"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e.NdJ("click",function(){return s.close()}),e._uU(2,"X"),e.qZA(),e.YNc(3,F,1,1,"img",2),e.YNc(4,T,4,0,"ng-container",3),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",null==s.exercise?null:s.exercise.image),e.xp6(1),e.Q6J("ngIf",s.videoUrl))},dependencies:[p.O5],styles:[".modal-container[_ngcontent-%COMP%]{padding:10px;background-color:var(--ion-color-primary);overflow-y:scroll;min-height:100vh}.solution-video[_ngcontent-%COMP%]{width:100%;height:66.6666666667vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:#fff}h3[_ngcontent-%COMP%]{font-weight:700}.close-button[_ngcontent-%COMP%]{font-size:1.5rem;color:#fff;font-weight:700;padding-right:20px;text-align:right}"]}),o})();function S(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("click",function(){const a=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showExerciseDetails(a))}),e.TgZ(1,"span",3),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t)}}const Z=[{path:"",component:E},{path:":bookId",component:_},{path:"showexercises/:chapterId",component:(()=>{class o{constructor(t,s){this.exercisesService=t,this.modalCtrl=s}ngOnInit(){const t=this.exercisesService.getCurrentSubchapter();this.subchapterId=t.id,this.listExercises(t)}listExercises(t){this.exerciseNumbers=Array.from({length:t.exercisesnumber},(s,c)=>c+t.firstexercise)}showExerciseDetails(t){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:O,componentProps:{subchapterId:this.subchapterId,exerciseNumber:t}})).present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m),e.Y36(r.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-exercises-list"]],decls:3,vars:1,consts:[[1,"exercises-container"],["class","exercise-number",3,"click",4,"ngFor","ngForOf"],[1,"exercise-number",3,"click"],[1,"exercise-number-text"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,S,3,1,"div",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",s.exerciseNumbers))},dependencies:[p.sg,r.W2],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;padding-top:20px}.exercise-number[_ngcontent-%COMP%]{position:relative;width:20%;background:white;color:var(--ion-color-primary);margin:10px;font-weight:700;padding-bottom:20%;border-radius:20%}.exercise-number-text[_ngcontent-%COMP%]{position:absolute;font-size:2rem;margin:auto;top:50%;left:50%;transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}"]}),o})()},{path:"exercise-video",component:x.p}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),o})();var B=n(5503),L=n(2271);let I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,r.Pc,M,B.D,L.m]}),o})()}}]);