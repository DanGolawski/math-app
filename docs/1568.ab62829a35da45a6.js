"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1568],{1568:(z,m,s)=>{s.r(m),s.d(m,{ExercisesModule:()=>B});var a=s(6895),l=s(1407),x=s(7898),f=s(727),e=s(8256),d=s(8781),v=s(529);let h=(()=>{class o{constructor(t){this.http=t}setCurrentSubchapter(t){this.subchapterState=t}getCurrentSubchapter(){return this.subchapterState}getBooks(){return this.http.get(d.H.books)}getChaptersForBook(t){return this.http.get(d.H.chapters(t))}getExercise(t,n){return this.http.get(d.H.exercises(t,n))}requestExerciseSolution(t,n){this.http.post(d.H.requestExercise,{subchapter:t,exercise:n}).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(v.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var r=s(3859);function C(o,i){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"ion-spinner"),e.qZA())}function b(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",5),e.NdJ("click",function(){const p=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showBookChapters(p.id))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t.title)}}let _=(()=>{class o{constructor(t,n,c){this.exercisesService=t,this.router=n,this.route=c,this.subscriptions=new f.w0}ngOnInit(){this.getBooks()}getBooks(){const t=this.exercisesService.getBooks().subscribe(n=>this.books=n);this.subscriptions.add(t)}showBookChapters(t){this.router.navigate([`${t}`],{relativeTo:this.route})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h),e.Y36(l.F0),e.Y36(l.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-books-list"]],decls:5,vars:2,consts:[[1,"container"],[1,"panel"],["class","spinner-container",4,"ngIf"],["class","button",3,"click",4,"ngFor","ngForOf"],[1,"spinner-container"],[1,"button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),e.YNc(3,C,2,0,"div",2),e.YNc(4,b,2,1,"div",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!n.books),e.xp6(1),e.Q6J("ngForOf",n.books))},dependencies:[a.sg,a.O5,r.W2,r.PQ]}),o})();function E(o,i){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"ion-spinner"),e.qZA())}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"p",11),e.NdJ("click",function(){const p=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.showExercises(p))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(1),e.AsE("",t.number,". ",t.title,"")}}function k(o,i){if(1&o&&(e.TgZ(0,"ion-accordion",7)(1,"ion-item",8)(2,"ion-label"),e._uU(3),e.qZA()(),e.TgZ(4,"div",9),e.YNc(5,y,2,2,"p",10),e.qZA()()),2&o){const t=i.$implicit;e.Q6J("value",t.title),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Q6J("ngForOf",t.subchapters)}}function T(o,i){if(1&o&&(e.TgZ(0,"ion-accordion-group",5),e.YNc(1,k,6,3,"ion-accordion",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chapters)}}let O=(()=>{class o{constructor(t,n,c){this.exercisesService=t,this.route=n,this.router=c}ngOnInit(){this.route.paramMap.subscribe(t=>this.getChapters(t.get("bookId")))}getChapters(t){this.exercisesService.getChaptersForBook(t).subscribe(n=>this.chapters=n)}showExercises(t){this.exercisesService.setCurrentSubchapter(t),this.router.navigate([`../showexercises/${t.id}`],{relativeTo:this.route})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h),e.Y36(l.gz),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-chapters-list"]],decls:5,vars:2,consts:[[1,"container"],[1,"panel"],["class","spinner-container",4,"ngIf"],["expand","inset",4,"ngIf"],[1,"spinner-container"],["expand","inset"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","header","color","primary"],["slot","content",1,"ion-padding","subchapters-container"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),e.YNc(3,E,2,0,"div",2),e.YNc(4,T,2,1,"ion-accordion-group",3),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!n.chapters),e.xp6(1),e.Q6J("ngIf",n.chapters))},dependencies:[a.sg,a.O5,r.We,r.eh,r.W2,r.Ie,r.Q$,r.PQ],styles:[".subchapters-container[_ngcontent-%COMP%]{color:#fff}.subchapters-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:var(--ion-color-primary);color:#fff;padding:20px;border-radius:20px;cursor:pointer}"]}),o})();var g=s(655),w=s(1481);function Z(o,i){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"ion-spinner"),e.qZA())}function F(o,i){if(1&o&&e._UZ(0,"img",5),2&o){const t=e.oxw();e.MGl("src","data:image/png;base64,",null==t.exercise?null:t.exercise.image,"",e.LSH)}}let I=(()=>{class o{constructor(t,n,c,p){this.exercisesService=t,this.modalCtrl=n,this.alertController=c,this.sanitizer=p,this.loading=!0}ngOnInit(){this.exercisesService.getExercise(this.subchapterId,this.exerciseNumber).subscribe({next:t=>{t?(this.exercise=t,this.videoUrl=null!=t&&t.video?this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${t.video}`):null,console.log(this.videoUrl)):this.showNotificationWhenExerciseNotFound()},error:t=>{console.log(t)},complete:()=>this.loading=!1})}showNotificationWhenExerciseNotFound(){return(0,g.mG)(this,void 0,void 0,function*(){this.exercisesService.requestExerciseSolution(this.subchapterId,this.exerciseNumber);const t=yield this.alertController.create({header:"Tego zadania jeszcze nie ma",subHeader:"W\u0142a\u015bnie dostali\u015bmy powiadomienie, \u017ce potrzebujesz tego zadania",message:"Wr\xf3\u0107 nied\u0142ugo. B\u0119dzie gotowe!",buttons:["OK"]});t.onDidDismiss().then(()=>this.close()),yield t.present()})}close(){this.modalCtrl.dismiss()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h),e.Y36(r.IN),e.Y36(r.Br),e.Y36(w.H7))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-exercise-details"]],decls:5,vars:2,consts:[[1,"modal-container"],[1,"close-button",3,"click"],["class","spinner-container",4,"ngIf"],[3,"src",4,"ngIf"],[1,"spinner-container"],[3,"src"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e.NdJ("click",function(){return n.close()}),e._uU(2,"X"),e.qZA(),e.YNc(3,Z,2,0,"div",2),e.YNc(4,F,1,1,"img",3),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",null==n.exercise?null:n.exercise.image))},dependencies:[a.O5,r.PQ],styles:[".modal-container[_ngcontent-%COMP%]{padding:10px;overflow-y:scroll;min-height:100vh}.solution-video[_ngcontent-%COMP%]{width:100%;height:66.6666666667vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:var(--ion-color-primary)}h3[_ngcontent-%COMP%]{font-weight:700}.close-button[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--ion-color-primary);font-weight:700;padding-right:20px;text-align:right}"]}),o})();function S(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("click",function(){const p=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.showExerciseDetails(p))}),e._uU(1),e.qZA()}if(2&o){const t=i.$implicit;e.xp6(1),e.Oqu(t)}}const L=[{path:"",component:_},{path:":bookId",component:O},{path:"showexercises/:chapterId",component:(()=>{class o{constructor(t,n){this.exercisesService=t,this.modalCtrl=n}ngOnInit(){const t=this.exercisesService.getCurrentSubchapter();this.subchapterId=t.id,this.listExercises(t)}listExercises(t){this.exerciseNumbers=Array.from({length:t.exercisesnumber},(n,c)=>c+t.firstexercise)}showExerciseDetails(t){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.modalCtrl.create({component:I,componentProps:{subchapterId:this.subchapterId,exerciseNumber:t}})).present()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h),e.Y36(r.IN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-exercises-list"]],decls:4,vars:1,consts:[[1,"container"],[1,"panel"],["class","button",3,"click",4,"ngFor","ngForOf"],[1,"button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"div",1),e.YNc(3,S,2,1,"div",2),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",n.exerciseNumbers))},dependencies:[a.sg,r.W2],styles:[".exercises-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;padding-top:20px}.exercise-number[_ngcontent-%COMP%]{position:relative;width:20%;background:white;color:var(--ion-color-primary);margin:10px;font-weight:700;padding-bottom:20%;border-radius:20%}.exercise-number-text[_ngcontent-%COMP%]{position:absolute;font-size:2rem;margin:auto;top:50%;left:50%;transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}"]}),o})()},{path:"exercise-video",component:x.p}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(L),l.Bz]}),o})();var N=s(5503),Y=s(2271);let B=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,r.Pc,M,N.D,Y.m]}),o})()}}]);