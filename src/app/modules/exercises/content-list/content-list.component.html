<ion-toolbar>
  <ion-buttons slot="start" *ngIf="selectedBook">
    <ion-button (click)="selectedBook = null">Wróć</ion-button>
  </ion-buttons>
  <ion-title>{{ !selectedBook ? 'Wybierz książkę' : 'Wybierz rozdział'}}</ion-title>
</ion-toolbar>

<ion-content>
  <img *ngIf="isLoading" class="waitingscreen" [src]="'assets/images/loadingscreen.gif'">


  <ng-container *ngIf="!selectedBook; else chapters">
    <ul>
      <li *ngFor="let book of books" (click)="getChaptersForBook(book)">{{ book.title }}</li>
    </ul>
  </ng-container>

  <ng-template #chapters>
    <ion-accordion-group expand="inset">
      <ion-accordion *ngFor="let chapter of bookChapters" [value]="chapter.name">
        <ion-item slot="header" color="light">
          <ion-label>{{ chapter.name }}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
        <p class="subchapter-name" (click)="showExercises(subchapter)" *ngFor="let subchapter of chapter.subchapters">{{ subchapter.number }}.{{ subchapter.name }}</p>
        </div>
      </ion-accordion>
    </ion-accordion-group>
  </ng-template>

</ion-content>