<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Zadania</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <p *ngIf="!exercises?.length">Te zadania będą niedługo :)</p>
    <ul>
      <li *ngFor="let exercise of exercises" (click)="showImage(exercise)">{{ subchapterNumber }}.{{ exercise.name | extension }}</li>
    </ul>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Podgląd zadania</ion-title>
      <ion-progress-bar *ngIf="isLoading" type="indeterminate"></ion-progress-bar>
    </ion-toolbar>
  </ion-header>
  <ion-content class="main-content">
    <ng-container>
      <h1 class="info-message" *ngIf="!selectedImageUrl; else exerciseImage">Wybierz zadanie z menu</h1>
      <br>
      <br>
      <h3>Brakuje zadania? Błąd?</h3>
      <p class="info-message">Napisz do nas. Rozwiązanie umieścimy nawet tego samego dnia!</p>
      <a href="mailto:mathmasters.contact@gmail.com?subject=Zadanie&body=Proszę o rozwiązanie zadania. Książka: {{bookid || '[WPISZ]'}}, rozdział: {{chapterNumber || '[WPISZ]'}}, temat: {{subchapterNumber || '[WPISZ]'}}, zadanie: {{selectedImageName || '[WPISZ]'}}">
        <ion-button>
          <ion-icon slot="start" name="mail-outline"></ion-icon>
          Napisz do nas
        </ion-button>
      </a>
      <br>
    </ng-container>
    
    <ng-template #exerciseImage>
      <img [src]="selectedImageUrl" (load)="imageIsLoaded()">
    </ng-template>
    <div class="loading"></div>
  </ion-content>
</div>